{"version":3,"sources":["utils/Chess.js","utils/ApiClient.js","providers/ProvideAuth.js","components/PrivateRoute.js","hooks/useInput.js","components/LoginPage.js","hooks/useCheckbox.js","components/RecoverPage.js","components/UsersList.js","components/CreateGame.js","components/GamesList.js","providers/ProvideGame.js","components/LeftTabs.js","components/Tile.js","components/Board.js","components/Captured.js","components/Table.js","components/HomePage.js","components/RegisterPage.js","App.js","index.js"],"names":["isMine","myColor","piece","scanTileK","arr","board","cOrig","rOrig","cDest","rDest","dest","orig","newBoard","Object","keys","forEach","square","movs","attacked","getAttacked","parseInt","includes","getKingSquares","map","a","push","scanRow","c","r","cdelta","rdelta","cc","rr","tile","sortCaptures","list","conv","p","n","b","q","sort","na","slice","nb","type","color","getKnightSquares","s","scanTileN","delta","module","exports","getBoard","pieces","turn","lastMov","inGameTiles","whiteCaptured","blackCaptured","entries","filter","maxTurn","length","mov","getCastling","enemySquares","concat","getAllAttackedByEnemy","rta","apiRequest","endPoint","method","key","body","cb","opts","headers","JSON","stringify","url","URL","window","location","href","addr1","protocol","host","fetch","then","response","ok","contentType","get","indexOf","json","error","statusText","status","catch","message","authContext","createContext","ProvideAuth","children","auth","loadStoredUser","local","localStorage","getItem","parse","session","sessionStorage","console","log","useState","user","setUser","login","password","remember","data","setItem","removeItem","useProvideAuth","Provider","value","useAuth","useContext","PrivateRoute","rest","render","to","pathname","state","from","useInput","initialValue","ref","useRef","setValue","onChange","e","target","val","current","focus","LoginPage","setError","history","useHistory","signIn","useLocation","loginProps","loginFocus","passProps","passFocus","checked","useCheckbox","remembersProps","useEffect","replace","Card","style","width","className","Body","Title","Text","Form","Group","controlId","Label","Control","placeholder","Check","label","Alert","variant","Button","onClick","preventDefault","usr","RecoverPage","keyProps","keyFocus","passConfProps","passConfFocus","recoveryData","setRecoveryData","page","setPage","mail","keyLenght","id","recoveryKey","UserList","onSelect","setList","selected","setSelected","api_key","u","ListGroup","height","Item","active","cursor","username","CreateGame","onNewGame","player","setPlayer","userId","GamesList","games","extSelected","g","fontWeight","opponent","whiteId","blackId","gameContext","ProvideGame","game","setGame","setBoard","updateGame","useCallback","updateTurn","t","useGame","LeftTabs","onGameSelected","openGamesList","setOpenGamesList","selectedGame","setSelectedGame","setKey","o","getOpenGames","Tabs","activeKey","k","Tab","eventKey","title","Tile","col","row","reversed","src","myTurn","highlights","selectable","black","bgColor","high","last","highStyle","position","backgroundSize","backgroundPosition","backgroundRepeat","backgroundImage","backgroundColor","userSelect","top","left","bottom","right","textAlign","1","2","3","4","5","6","7","8","margin","Board","setSrc","setHigh","whitePlayerId","rows","cols","border","cellSpacing","cellPadding","att","cast","Captured","captured","overflow","float","Table","setTurn","whitePlayerName","blackPlayerName","disabled","HomePage","signout","gameSelected","Navbar","bg","expand","Brand","Toggle","Collapse","NavDropdown","alignRight","Container","fluid","Row","Col","xs","usernameProps","usernameFocus","emailProps","mailFocus","email","App","path","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.dc014ce4.chunk.js","sourcesContent":["const isMine = (myColor, piece) => {\r\n    return (myColor === piece[0])\r\n}\r\n\r\nconst scanTileK = (arr, board, myColor, cOrig, rOrig, cDest, rDest) => {\r\n    if (cDest >= 1 && cDest <= 8 && rDest >= 1 && rDest <= 8) {\r\n        const dest = `${cDest}${rDest}`;\r\n        const orig = `${cOrig}${rOrig}`;\r\n\r\n        if (!board[dest] || !isMine(myColor, board[dest].piece)) {\r\n            const newBoard = []\r\n            Object.keys(board).forEach((square) => {\r\n                if (square !== orig && square !== dest) {\r\n                    newBoard[square] = board[square]\r\n                }\r\n            })\r\n            newBoard[dest] = { piece: board[orig].piece, movs: board[orig].movs + 1 }\r\n\r\n            let attacked = false\r\n            for (const square of Object.keys(newBoard)) {\r\n                const piece = newBoard[square].piece\r\n                if (piece[0] !== myColor) {\r\n                    if (piece[1] !== 'k') {\r\n                        if (getAttacked(newBoard, piece[0], parseInt(square[0]), parseInt(square[1])).includes(dest)) {\r\n                            attacked = true\r\n                            break\r\n                        }\r\n                    } else {\r\n                        //TODO, Si una de estas casillas estuviera bajo ataque de una pieza de mi color, si podría ir allá\r\n                        if (getKingSquares(parseInt(square[0]), parseInt(square[1])).map(a => `${a[0]}${a[1]}`).includes(dest)) {\r\n                            attacked = true\r\n                            break\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            if (!attacked) {\r\n                arr.push(dest)\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nconst scanTileN = (arr, board, myColor, cDest, rDest) => {\r\n    if (cDest >= 1 && cDest <= 8 && rDest >= 1 && rDest <= 8) {\r\n        const tile = `${cDest}${rDest}`;\r\n        if (board[tile]) {\r\n            if (!isMine(myColor, board[tile].piece)) {\r\n                arr.push(tile)\r\n            }\r\n        } else {\r\n            arr.push(tile)\r\n        }\r\n    }\r\n}\r\n\r\nconst scanRow = (arr, board, myColor, c, r, cdelta, rdelta) => {\r\n    for (let cc = c + cdelta, rr = r + rdelta; cc >= 1 && cc <= 8 && rr >= 1 && rr <= 8; cc += cdelta, rr += rdelta) {\r\n        const tile = `${cc}${rr}`;\r\n        const piece = board[tile];\r\n        if (piece) {\r\n            if (!isMine(myColor, piece.piece)) {\r\n                arr.push(tile)\r\n            }\r\n            break\r\n        } else {\r\n            arr.push(tile)\r\n        }\r\n    }\r\n}\r\n\r\nconst getBoard = (pieces, turn) => {\r\n    const inGameTiles = []\r\n    const whiteCaptured = []\r\n    const blackCaptured = []\r\n    let lastMov\r\n    Object.entries(pieces).forEach(p => {\r\n        const movs = Object.keys(p[1]).map(s => parseInt(s)).sort((a, b) => a - b).filter(c => c <= turn)\r\n        const maxTurn = movs[movs.length - 1];\r\n        if (p[1][maxTurn] === 'c') {\r\n            if (p[0].slice(0, 1) === 'w') {\r\n                whiteCaptured.push(p[0])\r\n            } else {\r\n                blackCaptured.push(p[0])\r\n            }\r\n        } else {\r\n            inGameTiles[p[1][maxTurn]] = { piece: p[0], movs: movs.length, maxTurn }\r\n            if (maxTurn === turn && turn > 0) {\r\n                const mov = {\r\n                    piece: p[0],\r\n                    orig: p[1][movs[movs.length - 2]],\r\n                    dest: p[1][movs[movs.length - 1]]\r\n                }\r\n\r\n                if (!lastMov || lastMov.piece.slice(1, 2) === 'r') {\r\n                    lastMov = mov\r\n                }\r\n            }\r\n        }\r\n    })\r\n    return { inGameTiles, whiteCaptured: sortCaptures(whiteCaptured), blackCaptured: sortCaptures(blackCaptured), lastMov, turn }\r\n}\r\n\r\nconst sortCaptures = (list) => {\r\n    const conv = { p: 0, n: 1, b: 2, r: 3, q: 4 }\r\n    return list.sort((a, b) => {\r\n        const na = conv[a.slice(1, 2)], nb = conv[b.slice(1, 2)]\r\n        return (na > nb ? 1 : (na < nb ? -1 : 0))\r\n    })\r\n}\r\n\r\nconst getKingSquares = (c, r) => {\r\n    return [[c, r + 1], [c + 1, r + 1], [c + 1, r], [c + 1, r - 1], [c, r - 1], [c - 1, r - 1], [c - 1, r], [c - 1, r + 1]]\r\n}\r\n\r\nconst getKnightSquares = (c, r) => {\r\n    return [[c + 1, r + 2], [c + 2, r + 1], [c + 2, r - 1], [c + 1, r - 2], [c - 1, r - 2], [c - 2, r - 1], [c - 2, r + 1], [c - 1, r + 2]]\r\n}\r\n\r\nconst getAllAttackedByEnemy = (board, myColor) => {\r\n    const enemySquares = Object.keys(board).filter(s => board[s] && board[s].piece.slice(0, 1) !== myColor)\r\n    let attacked = []\r\n    enemySquares.forEach(s => {\r\n        attacked = attacked.concat(getAttacked(board, myColor === 'w' ? 'b' : 'w', parseInt(s.slice(0, 1)), parseInt(s.slice(1, 2))))\r\n    })\r\n    return attacked\r\n}\r\n\r\n\r\nconst getCastling = (board, myColor, c, r) => {\r\n    const attacked = getAllAttackedByEnemy(board, myColor)\r\n    const rta = []\r\n    if (board[`${c}${r}`] && (board[`${c}${r}`].piece.slice(1, 2) === 'k' && board[`${c}${r}`].movs === 1)) {\r\n        if (!attacked.includes(`${c}${r}`)) {\r\n            //long castling\r\n            if (board[`1${r}`] && (board[`1${r}`].piece.slice(1, 2) === 'r' && board[`1${r}`].movs === 1)) {\r\n                if (!board[`4${r}`] && !board[`3${r}`] && !board[`2${r}`]) {\r\n                    if (!attacked.includes(`4${r}`) && !attacked.includes(`3${r}`)) {\r\n                        rta.push(`${c - 2}${r}`)\r\n                    }\r\n                }\r\n            }\r\n            //short\r\n            if (board[`8${r}`] && (board[`8${r}`].piece.slice(1, 2) === 'r' && board[`8${r}`].movs === 1)) {\r\n                if (!board[`6${r}`] && !board[`7${r}`]) {\r\n                    if (!attacked.includes(`6${r}`) && !attacked.includes(`7${r}`)) {\r\n                        rta.push(`${c + 2}${r}`)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return rta\r\n}\r\n\r\n\r\n/*list of squares attacked from the square c, r */\r\nconst getAttacked = (board, myColor, c, r) => {\r\n    const arr = []\r\n    const tile = `${c}${r}`\r\n    const piece = board[tile].piece\r\n    const type = piece.slice(1, -1)\r\n    const color = piece.slice(0, 1)\r\n\r\n    if (type === 'k') {\r\n        //TODO king must not be left on a position where it's under attack\r\n        //TODO castling\r\n        getKingSquares(c, r).forEach(a => scanTileK(arr, board, myColor, c, r, a[0], a[1]))\r\n    } else if (type === 'r') {\r\n        scanRow(arr, board, myColor, c, r, 0, 1)\r\n        scanRow(arr, board, myColor, c, r, 0, -1)\r\n        scanRow(arr, board, myColor, c, r, 1, 0)\r\n        scanRow(arr, board, myColor, c, r, -1, 0)\r\n    } else if (type === 'n') {\r\n        getKnightSquares(c, r).forEach(s => scanTileN(arr, board, myColor, s[0], s[1]))\r\n    } else if (type === 'b') {\r\n        scanRow(arr, board, myColor, c, r, 1, 1)\r\n        scanRow(arr, board, myColor, c, r, 1, -1)\r\n        scanRow(arr, board, myColor, c, r, -1, 1)\r\n        scanRow(arr, board, myColor, c, r, -1, -1)\r\n    } else if (type === 'q') {\r\n        scanRow(arr, board, myColor, c, r, 1, 1)\r\n        scanRow(arr, board, myColor, c, r, 1, -1)\r\n        scanRow(arr, board, myColor, c, r, -1, 1)\r\n        scanRow(arr, board, myColor, c, r, -1, -1)\r\n        scanRow(arr, board, myColor, c, r, 0, 1)\r\n        scanRow(arr, board, myColor, c, r, 0, -1)\r\n        scanRow(arr, board, myColor, c, r, 1, 0)\r\n        scanRow(arr, board, myColor, c, r, -1, 0)\r\n    } else if (type === 'p') {\r\n        const delta = color === 'w' ? 1 : -1\r\n        //first square\r\n        if (!board[`${c}${r + delta}`]) {\r\n            arr.push(`${c}${r + delta}`)\r\n            //second square\r\n            if (board[tile].movs === 1 && !board[`${c}${r + delta + delta}`]) {\r\n                arr.push(`${c}${r + delta + delta}`)\r\n            }\r\n        }\r\n        //attacks\r\n        if (board[`${c + 1}${r + delta}`]) {\r\n            if (myColor !== board[`${c + 1}${r + delta}`].piece.slice(0, 1)) {\r\n                arr.push(`${c + 1}${r + delta}`)\r\n            }\r\n        }\r\n        if (board[`${c - 1}${r + delta}`]) {\r\n            if (myColor !== board[`${c - 1}${r + delta}`].piece.slice(0, 1)) {\r\n                arr.push(`${c - 1}${r + delta}`)\r\n            }\r\n        }\r\n    }\r\n    return arr\r\n}\r\n\r\nmodule.exports = { getBoard, getAttacked, getCastling }","function apiRequest(endPoint, method, key, body, cb) {\r\n  let opts = { method };\r\n  if (body) {\r\n    opts = { headers: { 'Content-Type': \"application/json\" }, body: JSON.stringify(body), ...opts }\r\n  }\r\n\r\n  if (key) {\r\n    opts.headers = { 'Authorization': `Bearer ${key}`, ...opts.headers }\r\n  }\r\n  \r\n  const url = new URL(window.location.href)\r\n  const addr1 = `${url.protocol}//${url.host}/api`\r\n\r\n  const addr = process.env.NODE_ENV === 'development' ? 'http://localhost:4000/api' : addr1;\r\n  fetch(addr + endPoint, opts)\r\n    .then(response => {\r\n      if (response.ok) {\r\n        var contentType = response.headers.get(\"content-type\");\r\n        if (contentType && contentType.indexOf(\"application/json\") !== -1) {\r\n          return response.json().then(function (json) {\r\n            cb(null, json)\r\n          });\r\n        } else {\r\n          cb(null, null)\r\n        }\r\n      } else {\r\n        response.json().then(json => {\r\n          cb(json.error || response.statusText || `Respuesta Inesperada ${response.status}`, null)\r\n        })\r\n      }\r\n    }).catch(error => {\r\n      cb(error.message, null)\r\n    })\r\n}\r\n\r\nexport { apiRequest }","import React, { useContext, createContext, useState } from \"react\"\r\nimport { apiRequest } from '../utils/ApiClient'\r\n\r\nconst authContext = createContext();\r\n\r\nexport function ProvideAuth({ children }) {\r\n  const auth = useProvideAuth();\r\n  return (\r\n    <authContext.Provider value={auth}>\r\n      {children}\r\n    </authContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useAuth() {\r\n  return useContext(authContext);\r\n}\r\n\r\nfunction useProvideAuth() {\r\n\r\n  const loadStoredUser = () => {\r\n    let local = localStorage.getItem('user');\r\n    if (local) {\r\n      return JSON.parse(local);\r\n    }\r\n    let session = sessionStorage.getItem('user');\r\n    if (session) {\r\n      return JSON.parse(session);\r\n    }\r\n    return null;\r\n  }\r\n\r\n  console.log('useState: user');\r\n  const [user, setUser] = useState(loadStoredUser());\r\n\r\n  const signin = (login, password, remember, cb) => {\r\n    apiRequest('/v1/api_keys', 'POST', null, { login, password }, (error, data) => {\r\n      if (remember) {\r\n        localStorage.setItem('user', JSON.stringify(data))\r\n      } else {\r\n        sessionStorage.setItem('user', JSON.stringify(data))\r\n      }\r\n      setUser(data)\r\n      cb(error, data)\r\n    })\r\n  }\r\n\r\n  const signout = cb => {\r\n    setUser(null);\r\n    localStorage.removeItem('user');\r\n    sessionStorage.removeItem('user');\r\n    cb();\r\n  };\r\n  return [user, signin, signout]\r\n}","import { Route, Redirect } from 'react-router-dom'\r\nimport { useAuth } from '../providers/ProvideAuth'\r\n\r\nexport function PrivateRoute({ children, ...rest }) {\r\n    const [user] = useAuth();\r\n    return (\r\n        <Route {...rest}\r\n            render={({ location }) => {\r\n                return user ? (children) : (<Redirect\r\n                    to={{\r\n                        pathname: \"/login\",\r\n                        state: { from: location }\r\n                    }}\r\n                />)\r\n            }\r\n            }\r\n        />\r\n    );\r\n}","import { useState, useRef } from 'react'\r\n\r\nexport const useInput = (initialValue = '') => {\r\n    const ref = useRef(null)\r\n    const [value, setValue] = useState(initialValue);\r\n    return [\r\n        { value, onChange: e => setValue(e.target.value), ref },\r\n        (val = initialValue) => setValue(val),\r\n        () => ref.current && ref.current.focus()\r\n    ];\r\n}","import { useAuth } from '../providers/ProvideAuth'\r\nimport { useHistory, useLocation, Link } from 'react-router-dom'\r\nimport { useInput } from '../hooks/useInput'\r\nimport { useCheckbox } from '../hooks/useCheckbox'\r\nimport { useState, useEffect } from 'react'\r\nimport Button from 'react-bootstrap/Button';\r\nimport Card from 'react-bootstrap/Card';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Alert from 'react-bootstrap/Alert';\r\n\r\nexport default function LoginPage() {\r\n  const [error, setError] = useState();\r\n  const history = useHistory();\r\n  const [user, signIn] = useAuth();\r\n  const location = useLocation();\r\n\r\n  const [loginProps, , loginFocus] = useInput(\"alderick84\");\r\n\r\n  const [passProps, , passFocus] = useInput(\"123456\");\r\n  const [remembersProps] = useCheckbox(true);\r\n\r\n  const { from } = location.state || { from: { pathname: \"/\" } };\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      history.replace(from);\r\n    }\r\n  }, [user, from, history])\r\n\r\n  const login = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!loginProps.value) {\r\n      loginFocus()\r\n      setError('Debe escribir un email o nombre de usuario')\r\n    } else if (!passProps.value) {\r\n      passFocus()\r\n      setError('Debe escribir una contraseña')\r\n    } else {\r\n      signIn(loginProps.value, passProps.value, remembersProps.checked, (error, usr) => {\r\n        if (usr) {\r\n          history.replace(from);\r\n        } else {\r\n          setError(error);\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Card style={{ width: '36rem' }} className=\"mx-auto\">\r\n        <Card.Body>\r\n          <Card.Title>Iniciar Sesión</Card.Title>\r\n          <Card.Text>Debe indicar su nombre de usuario y contraseña, ni aún no tiene una cuenta <Link to=\"/register\">puede crearla aquí</Link>\r\n          </Card.Text>\r\n          <Form>\r\n            <Form.Group controlId=\"login\">\r\n              <Form.Label>Nombre de Usuario o Email</Form.Label>\r\n              <Form.Control type=\"text\" {...loginProps} placeholder='' />\r\n            </Form.Group>\r\n            <Form.Group controlId=\"pass\">\r\n              <Form.Label>Contraseña</Form.Label>\r\n              <Form.Control type=\"password\" {...passProps} placeholder='' />\r\n            </Form.Group>\r\n            <Form.Group controlId=\"remember\">\r\n              <Form.Check type=\"checkbox\" {...remembersProps} label=\"Recordarme en este equipo\" />\r\n            </Form.Group>\r\n            {error && <Alert variant=\"danger\">{error}</Alert>}\r\n            <p><Link to=\"/recover\">Olvidé mi usuario o contraseña</Link></p>\r\n            <Button variant=\"primary\" onClick={login}>Continuar</Button>\r\n          </Form>\r\n        </Card.Body>\r\n      </Card>\r\n    </>\r\n  );\r\n}","import { useState, useRef } from 'react'\r\n\r\nexport const useCheckbox = (initialValue = '') => {\r\n    const ref = useRef(null)\r\n    const [checked, setValue] = useState(initialValue);\r\n    return [\r\n        { checked, onChange: e => setValue(e.target.checked), ref },\r\n        (val = initialValue) => setValue(val),\r\n        () => ref.current && ref.current.focus()\r\n    ];\r\n}","import { useInput } from '../hooks/useInput'\r\nimport { useState } from 'react'\r\nimport Button from 'react-bootstrap/Button';\r\nimport Card from 'react-bootstrap/Card';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Alert from 'react-bootstrap/Alert';\r\nimport { apiRequest } from '../utils/ApiClient'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport default function RecoverPage() {\r\n\r\n  const [loginProps] = useInput(\"alderick84\");\r\n  const [keyProps, , keyFocus] = useInput(\"\");\r\n  const [passProps, , passFocus] = useInput(\"123456\");\r\n  const [passConfProps, , passConfFocus] = useInput(\"123456\");\r\n\r\n  const [error, setError] = useState();\r\n  const [recoveryData, setRecoveryData] = useState(null);\r\n  const [page, setPage] = useState('login');\r\n\r\n  let startRecover = (e) => {\r\n    e.preventDefault();\r\n    apiRequest('/v1/recovery_keys/', 'POST', null, { login: loginProps.value }, (error, data) => {\r\n      if (error) {\r\n        setError(error);\r\n      } else {\r\n        setRecoveryData(data);\r\n        setPage('key')\r\n      }\r\n    })\r\n  };\r\n\r\n  let sendKey = (e) => {\r\n    e.preventDefault();\r\n    if (!keyProps.value) {\r\n      keyFocus()\r\n      setError('Debe escribir una clave')\r\n    } else if (!passProps.value) {\r\n      passFocus()\r\n      setError('Debe escribir una nueva contraseña')\r\n    } else if (!passConfProps.value) {\r\n      passConfFocus()\r\n      setError('Debe escribir una confirmación de nueva contraseña')\r\n    } else if (passProps.value !== passConfProps.value) {\r\n      passConfFocus()\r\n      setError('La contraseña y su confirmación no coinciden')\r\n    } else {\r\n      apiRequest(`/v1/users/${recoveryData.id}/recovered_password`, 'PUT', null, { recoveryKey: keyProps.value, password: passProps.value }, (error, data) => {\r\n        if (error) {\r\n          setError(error);\r\n        } else {\r\n          setPage('end')\r\n        }\r\n      })\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Card style={{ width: '36rem' }} className=\"mx-auto\">\r\n        <Card.Body>\r\n          <Card.Title>Recuperar Contraseña</Card.Title>\r\n          {page === 'login' &&\r\n            <>\r\n              <Card.Text>\r\n                Si olvidó su nombre de usuario o contraseña, escriba el correo o el nombre de usuario que usó para registrarse y recibirá instrucciones para recuperar su cuenta.\r\n              </Card.Text>\r\n              <Form>\r\n                <Form.Group controlId=\"login\">\r\n                  <Form.Label>Nombre de Usuario o Email</Form.Label>\r\n                  <Form.Control {...loginProps} type=\"text\" />\r\n                </Form.Group>\r\n                {error && <Alert variant=\"danger\">{error}</Alert>}\r\n                <Button variant=\"primary\" onClick={startRecover}>Recuperar</Button>\r\n              </Form>\r\n            </>\r\n          }\r\n          {page === 'key' &&\r\n            <>\r\n              <Card.Text>\r\n                A su correo {recoveryData.mail} se envió su nombre de usuario y una clave de {recoveryData.keyLenght} caracteres.\r\n              </Card.Text>\r\n              <Form>\r\n                <Form.Group controlId=\"key\">\r\n                  <Form.Label>Clave</Form.Label>\r\n                  <Form.Control {...keyProps} type=\"text\" placeholder={`Clave de ${recoveryData.keyLenght} caracteres que llegó a su correo`} />\r\n                </Form.Group>\r\n                <Form.Group controlId=\"pass\">\r\n                  <Form.Label>Nueva Contraseña</Form.Label>\r\n                  <Form.Control type=\"password\" {...passProps} placeholder='Nueva contraseña que usará para iniciar sesión' />\r\n                </Form.Group>\r\n                <Form.Group controlId=\"passConf\">\r\n                  <Form.Label>Confirmación de la Nueva Contraseña</Form.Label>\r\n                  <Form.Control type=\"password\" {...passConfProps} placeholder='Repita la nueva contraseña' />\r\n                </Form.Group>\r\n                {error && <Alert variant=\"danger\">{error}</Alert>}\r\n                <Button variant=\"primary\" onClick={sendKey}>Continuar</Button>\r\n              </Form>\r\n            </>\r\n          }\r\n          {page === 'end' &&\r\n            <>\r\n              <Card.Text>\r\n                Su contraseña se cambió con éxito, ahora puede usarla para iniciar sesión\r\n              </Card.Text>\r\n              <Link to=\"/login\"><Button variant=\"primary\">Volver al Inicio de Sesión</Button></Link>\r\n            </>\r\n          }\r\n        </Card.Body>\r\n      </Card>\r\n    </>\r\n  );\r\n}","import { useState, useEffect } from 'react'\r\nimport { apiRequest } from '../utils/ApiClient'\r\nimport { useAuth } from '../providers/ProvideAuth'\r\nimport ListGroup from 'react-bootstrap/ListGroup'\r\n\r\nexport default function UserList({ onSelect = (a) => a }) {\r\n\r\n    const [list, setList] = useState([])\r\n    const [selected, setSelected] = useState(null)\r\n    const [user] = useAuth()\r\n\r\n    useEffect(() => {\r\n        apiRequest('/v1/users?like=a', 'GET', user.api_key, null, (error, data) => {\r\n            if (!error) {\r\n                setList(data.filter((u) => u.id !== user.id))\r\n            } else {\r\n                console.log(error);\r\n            }\r\n        })\r\n    }, [user]);\r\n\r\n    if (list.length === 0) {\r\n        return <p>Cargando...</p>\r\n    }\r\n\r\n    return <ListGroup className=\"overflow-auto\" style={{height: '100px'}}>\r\n        {list && list.map((u) => <ListGroup.Item\r\n            key={u.id}\r\n            active={selected && selected.id === u.id}\r\n            onClick={() => { setSelected(u); onSelect(u) }}\r\n            style={{ cursor: 'pointer' }}\r\n        >{u.username}</ListGroup.Item>)}\r\n    </ListGroup >\r\n}","import { Alert, Button, Form } from 'react-bootstrap'\r\nimport UserList from './UsersList'\r\nimport { useState } from 'react'\r\nimport { apiRequest } from '../utils/ApiClient'\r\nimport { useAuth } from '../providers/ProvideAuth'\r\n\r\nexport default function CreateGame({ onNewGame = (a) => a }) {\r\n\r\n    const [error, setError] = useState(null)\r\n    const [player, setPlayer] = useState(null)\r\n    const [user] = useAuth()\r\n\r\n    const create = () => {\r\n        if (!player) {\r\n            setError('Seleccione un jugador')\r\n        } else {\r\n            apiRequest('/v1/games', 'post', user.api_key, { userId: player.id }, (error, data) => {\r\n                if (error) {\r\n                    setError(error)\r\n                } else {\r\n                    onNewGame(data)\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    return <div className='m-3'>\r\n        <Form>\r\n            <Form.Group>\r\n                <Form.Label>Jugador</Form.Label>\r\n                <UserList onSelect={(u) => setPlayer(u)}></UserList>\r\n            </Form.Group>\r\n        </Form>\r\n        {error && <Alert variant=\"danger\">{error}</Alert>}\r\n        <Button onClick={create}>Crear Juego</Button>\r\n    </div>\r\n}","import { useState, useEffect } from 'react'\r\nimport ListGroup from 'react-bootstrap/ListGroup'\r\nimport { useAuth } from '../providers/ProvideAuth'\r\n\r\nexport default function GamesList({ onSelect = (a) => a, games, selected: extSelected }) {\r\n\r\n    const [user] = useAuth()\r\n    const [selected, setSelected] = useState(extSelected)\r\n    useEffect(() => { setSelected(extSelected) }, [extSelected])\r\n\r\n    if (!games) {\r\n        return <p>Cargando...</p>\r\n    }\r\n\r\n    if (games.length === 0) {\r\n        return <p>No hay partidas en curso</p>\r\n    }\r\n\r\n    return <ListGroup>\r\n        {games && games.map((g) =>\r\n            <ListGroup.Item\r\n                className='m-0 p-2'\r\n                key={g.id}\r\n                active={!selected ? false : selected === g.id}\r\n                onClick={() => { setSelected(g.id); onSelect(g.id) }}\r\n                style={{ cursor: 'pointer' }}>\r\n                <div style={{ fontWeight: 'bold' }}>{g.opponent}</div>\r\n                <p className='m-0 p-0'>{(g.whiteId === user.id && g.turn % 2 === 0) || (g.blackId === user.id && g.turn % 2 !== 0) ? \"Su turno\" : `Turno de ${g.opponent}`}</p>\r\n            </ListGroup.Item>)}\r\n    </ListGroup >\r\n}","import React, { useContext, createContext, useState, useCallback } from \"react\"\r\nimport { getBoard } from '../utils/Chess'\r\n\r\nconst gameContext = createContext();\r\n\r\nexport function ProvideGame({ children }) {\r\n    const [game, setGame] = useState(null)\r\n    const [board, setBoard] = useState(null)\r\n\r\n    const updateGame = useCallback((g) => {\r\n        setGame(g)\r\n        if (g) {\r\n            setBoard(getBoard(g.pieces, g.turn))\r\n        } else {\r\n            setBoard(null)\r\n        }\r\n    }, [])\r\n\r\n    const updateTurn = useCallback((t) => {\r\n        setBoard(game ? getBoard(game.pieces, t) : null)\r\n    }, [game])\r\n\r\n    const val = [game, board, updateGame, updateTurn]\r\n    return (\r\n        <gameContext.Provider value={val}>\r\n            {children}\r\n        </gameContext.Provider>\r\n    );\r\n}\r\n\r\nexport function useGame() {\r\n    return useContext(gameContext);\r\n}\r\n\r\n","import Tabs from \"react-bootstrap/Tabs\";\r\nimport Tab from \"react-bootstrap/Tab\";\r\nimport CreateGame from \"./CreateGame\";\r\nimport GamesList from \"./GamesList\";\r\nimport { useCallback, useEffect, useState } from \"react\";\r\nimport { useAuth } from \"../providers/ProvideAuth\";\r\nimport { apiRequest } from \"../utils/ApiClient\";\r\nimport { useGame } from \"../providers/ProvideGame\";\r\n\r\nexport default function LeftTabs({ onGameSelected = (a) => a }) {\r\n\r\n    const [game] = useGame()\r\n    const [openGamesList, setOpenGamesList] = useState([])\r\n    const [selectedGame, setSelectedGame] = useState(null)\r\n    const [user] = useAuth()\r\n\r\n    const [key, setKey] = useState('open')\r\n\r\n    useEffect(() => {\r\n        setOpenGamesList((o) => o.map(g => (\r\n            (game && (game.id === g.id)) ? { ...g, turn: game.turn } : g)\r\n        ))\r\n    }, [game])\r\n\r\n    const gameCreated = () => {\r\n        getOpenGames()\r\n        setKey(\"open\")\r\n    }\r\n\r\n    const getOpenGames = useCallback(() => {\r\n        console.log('reloading open game list');\r\n        apiRequest(`/v1/users/${user.id}/games/open`, 'GET', user.api_key, null, (error, data) => {\r\n            if (!error) {\r\n                if (data && data.length > 0) {\r\n                    setSelectedGame(data[0].id)\r\n                    onGameSelected(data[0].id)\r\n                }\r\n                setOpenGamesList(data)\r\n            } else {\r\n                console.log(error)\r\n            }\r\n        })\r\n    }, [user.id, user.api_key, onGameSelected]);\r\n\r\n    useEffect(() => {\r\n        getOpenGames();\r\n    }, [getOpenGames]);\r\n\r\n\r\n    return <Tabs\r\n        id=\"controlled-tab-example\"\r\n        activeKey={key}\r\n        onSelect={(k) => setKey(k)}>\r\n        <Tab eventKey=\"new\" title=\"Nueva Partida\">\r\n            <CreateGame onNewGame={gameCreated}></CreateGame>\r\n        </Tab>\r\n        <Tab eventKey=\"open\" title=\"Partidas\">\r\n            <GamesList games={openGamesList} selected={selectedGame} onSelect={onGameSelected} ></GamesList>\r\n        </Tab>\r\n    </Tabs>\r\n}","export function Tile({ col, row, piece = null, reversed, src, myTurn, myColor, highlights, lastMov, onSelect = a => a }) {\r\n    const tile = `${col}${row}`\r\n    const selectable = myTurn && ((piece && myColor === piece[0]) || highlights.includes(tile))\r\n    const black = col % 2 !== 0 ? row % 2 !== 0 : row % 2 === 0;\r\n    const letters = { 1: 'a', 2: 'b', 3: 'c', 4: 'd', 5: 'e', 6: 'f', 7: 'g', 8: 'h' }\r\n\r\n    const tl = {\r\n        position: \"absolute\", userSelect: 'none', width: '25px', height: '25px',\r\n        top: '0px', left: '0px',\r\n    }\r\n\r\n    const br = {\r\n        position: \"absolute\", userSelect: 'none', width: '25px', height: '25px',\r\n        bottom: '0px', right: '0px',\r\n        textAlign: 'right'\r\n    }\r\n\r\n    const onClick = () => {\r\n        if (selectable) {\r\n            onSelect();\r\n        }\r\n    }\r\n\r\n    const selected = src && src === tile\r\n    const bgColor = black ? '#b3e5fc' : '#ffffff'\r\n    const high = highlights.includes(tile)\r\n    const last = lastMov && (lastMov.dest === tile || lastMov.orig === tile)\r\n\r\n    const highStyle = high ? (piece ?\r\n        { position: \"absolute\", width: \"60px\", height: '60px', backgroundSize: '55px 55px', backgroundPosition: 'center', backgroundRepeat: 'no-repeat', backgroundImage: `url('/assets/circle.svg')` } :\r\n        { position: \"absolute\", width: \"60px\", height: '60px', backgroundSize: '15px 15px', backgroundPosition: 'center', backgroundRepeat: 'no-repeat', backgroundImage: `url('/assets/dot.svg')` })\r\n        : null\r\n\r\n    return <>\r\n        <div style={{ cursor: selectable ? 'pointer' : 'default', width: '60px', height: '60px', position: 'relative', backgroundColor: bgColor }}\r\n            onClick={onClick}>\r\n            {col === (reversed ? 8 : 1) ? <div style={{ ...tl, color: black ? '#FFFFFF' : '#b3e5fc' }}>{row}</div> : ''}\r\n            {row === (reversed ? 8 : 1) ? <div style={{ ...br, color: black ? '#FFFFFF' : '#b3e5fc' }}>{letters[col]}</div> : ''}\r\n            {selected &&\r\n                <div style={{ position: \"absolute\", width: \"60px\", height: '60px', backgroundRepeat: 'repeat', backgroundImage: `url('/assets/mask.png')` }} />\r\n            }\r\n            {last &&\r\n                <div style={{ position: \"absolute\", width: \"60px\", height: '60px', backgroundRepeat: 'repeat', backgroundImage: `url('/assets/mask.png')` }} />\r\n            }\r\n            {high && <div style={highStyle} />}\r\n            {piece &&\r\n                <div style={{ position: \"absolute\", margin: \"5px\", width: \"50px\", height: '50px', backgroundSize: '50px 50px', backgroundImage: `url('/assets/${piece.slice(0, -1)}.svg')` }}>\r\n                </div>\r\n            }\r\n            {false && <div style={{ position: \"absolute\", left: '20px', color: '#FF0000' }}>{tile}</div>}\r\n            \r\n        </div>\r\n\r\n    </>\r\n}","import { useEffect, useState } from \"react\"\r\nimport { useAuth } from \"../providers/ProvideAuth\"\r\nimport { useGame } from \"../providers/ProvideGame\"\r\nimport { apiRequest } from \"../utils/ApiClient\"\r\nimport { Tile } from \"./Tile\"\r\nimport { getAttacked, getCastling } from '../utils/Chess'\r\n\r\nexport function Board({ reversed = false }) {\r\n    const [game, board, updateGame] = useGame()\r\n    const [user] = useAuth()\r\n    const [src, setSrc] = useState(null)\r\n    const [high, setHigh] = useState([])\r\n\r\n    useEffect(() => {\r\n        setSrc(null)\r\n        setHigh([])\r\n    }, [game, board])\r\n\r\n    const myColor = user.id === game.whitePlayerId ? 'w' : 'b'\r\n    const myTurn = myColor === 'w' ? game.turn % 2 === 0 : game.turn % 2 !== 0\r\n\r\n    if (!game || !board) {\r\n        return <></>\r\n    }\r\n\r\n    const rows = reversed ? [1, 2, 3, 4, 5, 6, 7, 8] : [8, 7, 6, 5, 4, 3, 2, 1]\r\n    const cols = reversed ? [8, 7, 6, 5, 4, 3, 2, 1] : [1, 2, 3, 4, 5, 6, 7, 8]\r\n\r\n    const onSelect = (c, r) => {\r\n        const tile = `${c}${r}`\r\n        if (high.includes(tile)) {\r\n            //move\r\n            apiRequest(`/v1/games/${game.id}/moves`, 'post', user.api_key, { piece: board.inGameTiles[src].piece, src: src, dest: tile }, (error, data) => {\r\n                if (!error && data) {\r\n                    updateGame(data)\r\n                }\r\n            })\r\n            return;\r\n        }\r\n        setSrc(tile)\r\n        const att = getAttacked(board.inGameTiles, myColor, c, r)\r\n        const cast = getCastling(board.inGameTiles, myColor, c, r)\r\n        setHigh(att.concat(cast))\r\n    }\r\n\r\n    return <>\r\n        <table border='0' cellSpacing=\"0\" cellPadding=\"0\">\r\n            <tbody>{rows.map((r) =>\r\n                <tr key={r}>{\r\n                    cols.map((c) => {\r\n                        return <td key={c}>\r\n                            <Tile\r\n                                key={`${c}${r}`}\r\n                                col={c} row={r}\r\n                                piece={board.inGameTiles[`${c}${r}`] && board.inGameTiles[`${c}${r}`].piece}\r\n                                reversed={reversed}\r\n                                src={src}\r\n                                myTurn={myTurn}\r\n                                myColor={myColor}\r\n                                highlights={high}\r\n                                lastMov={board.lastMov}\r\n                                onSelect={() => onSelect(c, r)}\r\n                            >\r\n                            </Tile>\r\n                        </td>\r\n                    }\r\n                    )}\r\n                </tr>)\r\n            }\r\n            </tbody>\r\n        </table>\r\n    </>\r\n}","export function Captured({ captured }) {\r\n    return <div style={{ overflow: 'hidden', height: '30px' }}>\r\n        {captured.map(c =>\r\n            <div key={c}\r\n                style={{ width: \"30px\", height: '30px', backgroundSize: '30px 30px', float: 'left', backgroundImage: `url('/assets/${c.slice(0, -1)}.svg')` }}>\r\n            </div>\r\n        )}\r\n    </div>\r\n}","import { useAuth } from \"../providers/ProvideAuth\"\r\nimport { useGame } from \"../providers/ProvideGame\"\r\nimport { Board } from './Board'\r\nimport { Captured } from './Captured'\r\n\r\nexport function Table() {\r\n    const [user] = useAuth()\r\n    const [game, board, , setTurn] = useGame()\r\n    const reversed = game ? user.id !== game.whitePlayerId : false;\r\n    if (!game || !board) {\r\n        return <></>\r\n    }\r\n\r\n    const prev = () => {\r\n        setTurn(board.turn - 1)\r\n    }\r\n\r\n    const next = () => {\r\n        setTurn(board.turn + 1)\r\n    }\r\n\r\n    const beg = () => {\r\n        setTurn(0)\r\n    }\r\n\r\n    const end = () => {\r\n        setTurn(game.turn)\r\n    }\r\n\r\n\r\n    return <>\r\n        <div>{!reversed ? game.blackPlayerName : game.whitePlayerName}</div>\r\n        <Captured captured={reversed ? board.blackCaptured : board.whiteCaptured} />\r\n        <Board reversed={reversed} turn={game.turn}></Board>\r\n        <div>{!reversed ? game.whitePlayerName : game.blackPlayerName}</div>\r\n        <Captured captured={reversed ? board.whiteCaptured : board.blackCaptured} />\r\n\r\n        <div>\r\n            <button disabled={board.turn === 0} style={{ float: 'left' }} onClick={beg}>Beg</button>\r\n            <button disabled={board.turn === 0} style={{ float: 'left' }} onClick={prev}>Prev</button>\r\n            <div style={{ float: 'left' }}>{board.turn}</div>\r\n            <button disabled={board.turn === game.turn} style={{ float: 'left' }} onClick={next}>Next</button>\r\n            <button disabled={board.turn === game.turn} style={{ float: 'left' }} onClick={end}>End</button>\r\n        </div>\r\n    </>\r\n}","import React, { useCallback } from 'react'\r\nimport { useAuth } from '../providers/ProvideAuth';\r\nimport Button from 'react-bootstrap/Button';\r\nimport LeftTabs from './LeftTabs';\r\nimport { Col, Container, Row } from 'react-bootstrap';\r\nimport Nav from 'react-bootstrap/Nav'\r\nimport Navbar from 'react-bootstrap/Navbar'\r\nimport NavDropdown from 'react-bootstrap/NavDropdown'\r\n\r\nimport { Table } from './Table';\r\nimport { useGame } from '../providers/ProvideGame'\r\nimport { apiRequest } from '../utils/ApiClient'\r\n\r\nexport default function HomePage() {\r\n    const [user, , signout] = useAuth()\r\n    const [, , updateGame] = useGame()\r\n\r\n    const gameSelected = useCallback((id) => {\r\n        apiRequest(`/v1/games/${id}`, 'get', user.api_key, null, (error, data) => {\r\n            updateGame(data)\r\n        })\r\n    }, [user.api_key, updateGame]);\r\n\r\n\r\n    const logout = (e) => {\r\n        e.preventDefault()\r\n        signout(() => { })\r\n    }\r\n\r\n    return <>\r\n        <Navbar Navbar bg=\"light\" expand=\"lg\">\r\n            <Navbar.Brand>JSChess</Navbar.Brand>\r\n            <Navbar.Toggle />\r\n            <Navbar.Collapse className=\"justify-content-end mr-auto\">\r\n                <NavDropdown title={user.username} id=\"basic-nav-dropdown\" alignRight>\r\n                    <NavDropdown.Item onClick={logout}>Salir</NavDropdown.Item>\r\n                </NavDropdown>\r\n            </Navbar.Collapse>\r\n        </Navbar>\r\n        <Container fluid>\r\n            <Row>\r\n                <Col xs={3} className='m-0 p-0'><LeftTabs onGameSelected={gameSelected} ></LeftTabs></Col>\r\n                <Col xs={6} className='m-0 p-0'><Table></Table></Col>\r\n            </Row>\r\n        </Container>\r\n    </>\r\n}","import { useInput } from '../hooks/useInput'\r\nimport { useState } from 'react'\r\nimport Button from 'react-bootstrap/Button';\r\nimport Card from 'react-bootstrap/Card';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Alert from 'react-bootstrap/Alert';\r\nimport { apiRequest } from '../utils/ApiClient'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport default function RecoverPage() {\r\n\r\n  const [usernameProps, , usernameFocus] = useInput(\"chiquimarzo\");\r\n  const [emailProps, , mailFocus] = useInput(\"chiquimarzo@gmail.com\");\r\n  const [passProps, , passFocus] = useInput(\"123456\");\r\n  const [passConfProps, , passConfFocus] = useInput(\"123456\");\r\n\r\n  const [error, setError] = useState();\r\n  const [page, setPage] = useState('create');\r\n  \r\n  let register = (e) => {\r\n    e.preventDefault();\r\n    if (!usernameProps.value) {\r\n      usernameFocus()\r\n      setError('Debe escribir un nombre de usuario')\r\n    } else if (!emailProps.value) {\r\n      mailFocus()\r\n      setError('Debe escribir un correo')\r\n    } else if (!passProps.value) {\r\n      passFocus()\r\n      setError('Debe escribir una contraseña')\r\n    } else if (!passConfProps.value) {\r\n      passConfFocus()\r\n      setError('Debe escribir una confirmación de contraseña')\r\n    } else if (passProps.value !== passConfProps.value) {\r\n      passConfFocus()\r\n      setError('La contraseña y su confirmación no coinciden')\r\n    } else {\r\n      apiRequest(`/v1/users/`, 'POST', null, { username: usernameProps.value, email: emailProps.value, password: passProps.value }, (error, data) => {\r\n        if (error) {\r\n          setError(error);\r\n        } else {\r\n          setPage('created')\r\n        }\r\n      })\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Card style={{ width: '36rem' }} className=\"mx-auto\">\r\n        <Card.Body>\r\n          <Card.Title>Registrarse</Card.Title>\r\n          {page === 'create' &&\r\n            <>\r\n              <Card.Text>\r\n                Puede crear una cuenta únicamente con los siguientes datos:\r\n              </Card.Text>\r\n              <Form>\r\n                <Form.Group>\r\n                  <Form.Label>Nombre de Usuario</Form.Label>\r\n                  <Form.Control type=\"text\" {...usernameProps} />\r\n                </Form.Group>\r\n                <Form.Group>\r\n                  <Form.Label>Email</Form.Label>\r\n                  <Form.Control type=\"email\" {...emailProps} placeholder={`Para recuperar su cuenta si tiene olvida su contraseña`} />\r\n                </Form.Group>\r\n                <Form.Group>\r\n                  <Form.Label>Contraseña</Form.Label>\r\n                  <Form.Control type=\"password\" {...passProps} placeholder='Contraseña que usará para iniciar sesión' />\r\n                </Form.Group>\r\n                <Form.Group>\r\n                  <Form.Label>Confirmación de la Contraseña</Form.Label>\r\n                  <Form.Control type=\"password\" {...passConfProps} placeholder='Repita la contraseña' />\r\n                </Form.Group>\r\n                {error && <Alert variant=\"danger\">{error}</Alert>}\r\n                <Button variant=\"primary\" onClick={register}>Crear Cuenta</Button>\r\n              </Form>\r\n            </>\r\n          }\r\n          {page === 'created' &&\r\n            <>\r\n              <Card.Text>\r\n                {usernameProps.value} su cuenta se creó con éxito, ahora puede iniciar sesión con los datos que suministró\r\n              </Card.Text>\r\n              <Link to=\"/login\"><Button variant=\"primary\">Ir al Inicio de Sesión</Button></Link>\r\n            </>\r\n          }\r\n        </Card.Body>\r\n      </Card>\r\n    </>\r\n  );\r\n}","import { Route, Switch } from 'react-router';\nimport { PrivateRoute } from './components/PrivateRoute';\nimport LoginPage from './components/LoginPage'\nimport RecoverPage from './components/RecoverPage'\nimport HomePage from './components/HomePage'\nimport RegisterPage from './components/RegisterPage'\nimport { BrowserRouter as Router } from 'react-router-dom'\nimport { ProvideAuth } from './providers/ProvideAuth'\nimport { ProvideGame } from './providers/ProvideGame'\n\nfunction App() {\n\n  return (\n    <ProvideAuth>\n      <Router>\n        <Switch>\n          <Route path=\"/recover\">\n            <RecoverPage />\n          </Route>\n          <Route path=\"/login\">\n            <LoginPage />\n          </Route>\n          <Route path=\"/register\">\n            <RegisterPage />\n          </Route>\n          <PrivateRoute path=\"/secret\">\n            <h1>Secret</h1>\n          </PrivateRoute>\n          <PrivateRoute path=\"/\">\n            <ProvideGame>\n              <HomePage />\n            </ProvideGame>\n          </PrivateRoute>\n        </Switch>\n      </Router>\n    </ProvideAuth>\n  );\n}\n\nexport default App;\n","/**\n  This CodeSandbox has been automatically generated using\n  `codesandboxer`. If you're curious how that happened, you can\n  check out our docs here: https://github.com/codesandbox/codesandboxer\n\n  If you experience any struggles with this sandbox, please raise an issue\n  on github. :)\n*/\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n//import App from './example';\nimport App from './App';\n\nReactDOM.render(\n<App />,\ndocument.getElementById('root')\n);\n"],"sourceRoot":""}